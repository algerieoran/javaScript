<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>AddEventListener</title>
    <style>
        div {width: 50px; height: 50px; position: relative;}
        .rose {background: pink;}
    </style>
</head>
<body>
    <button id="bouton">Déplacer le carré</button>
    <div class="rose"></div>
    

    <script>
        // La méthode eddEventListener :
        // en cliquant sur le bouton le carré se déplace et change de couleur.

        // problématique : quand on met plusieurs évenements identiques sur le meme bouton dans la syntaxe vu just ici seul le dernier est pris en compte...

        var carre = document.querySelector('.rose');
        var bouton = document.querySelector('#bouton');
        var leftPosition = 0;  // valeur de la position left du carré

        function deplacement(){
            leftPosition+= 10;  // augment la valeur de la variable de +10
            carre.style.left = leftPosition+'px';
        }

        function couleur() {
            carre.style.backgroundColor = 'yellow';  // les propriétés CSS qui comportent un tiret : on leur enlève ce tiret et on met un majuscule
        }

        // 
        //bouton.onclick = deplacement; // on écrit la fonction sans sa paire de () sinon elle appelée et exécutée immédiatement sans l'ordre du click dont elle dépend
        //bouton.onclick = couleur;  // on constate que le carré devient jaune mais ne se déplace plus , car c'est le denier évenement qui prévaut avec cette syntaxe onclick.

        // pour s'en sortir en utilise  addEventListener :
        bouton.addEventListener('click',deplacement);
        bouton.addEventListener('click',couleur);  // l'evenemt click s'écrit sans le "on", et la fonction couleur sans sa paire de() pour ne pas qu'elle s"exécute immédiatement. La fonction couleur est appelée une fonction CALLBACK car ell est passée en argument (=en paramètre) d'une autre fonction ici dans addeventListener en effet elle atendre l'ordre de cette dernier pour s'éxecuter.

        // addEventListener() veut dire littéralement "ajouter un écouteur d'évenements". Cela signifie que l'on ajoute un évenement à un élément (ici au bouton).

        // Cette méthode est utile aussi si vous utilisez des pluings ou  de bibiothèques js font appel à des évènements identiques aux votres.

        //------------------
        // on peut aussi écrire une fonction anonime directement dans addeventListener ex :
        bouton.addEventListener('click', function() {
            carre.style.border ='1px solid red';
        });





    </script>
</body>
</html>